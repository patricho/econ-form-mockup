import{Z as Ue,b as Ce,s as V,h as M,P as Ie,a as _e,q as te,a8 as Me,r as Ne,c as he,d as ae,f as Y,j as R,S as Pe,g as pe,i as ue,p as ge,a9 as X,X as Ae,J as ne,aa as se,ab as Be,ac as ie,ad as J,ae as me,W as Ee,af as De,$ as Re,ag as Q,ah as ke,Q as Le,N as Oe,ai as fe,aj as be,ak as Fe,al as we,am as He,an as qe,ao as Ge,ap as Ke}from"./z3Ghawec.js";let re=!1;function Ve(){re||(re=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var a;if(!t.defaultPrevented)for(const n of t.target.elements)(a=n.__on_r)==null||a.call(n)})},{capture:!0}))}function nt(t,a){return a}function Ye(t,a,n,o){for(var l=[],d=a.length,p=0;p<d;p++)me(a[p].e,l,!0);var A=d>0&&l.length===0&&n!==null;if(A){var I=n.parentNode;Ee(I),I.append(n),o.clear(),B(t,a[0].prev,a[d-1].next)}De(l,()=>{for(var T=0;T<d;T++){var u=a[T];A||(o.delete(u.k),B(t,u.prev,u.next)),Re(u.e,!A)}})}function st(t,a,n,o,l,d=null){var p=t,A={flags:a,items:new Map,first:null},I=(a&fe)!==0;if(I){var T=t;p=M?V(Ie(T)):T.appendChild(Ue())}M&&_e();var u=null,E=!1,r=Me(()=>{var y=n();return Oe(y)?y:y==null?[]:Ae(y)});Ce(()=>{var y=te(r),s=y.length;if(E&&s===0)return;E=s===0;let N=!1;if(M){var S=Ne(p)===he;S!==(s===0)&&(p=ae(),V(p),Y(!1),N=!0)}if(M){for(var C=null,_,f=0;f<s;f++){if(R.nodeType===8&&R.data===Pe){p=R,N=!0,Y(!1);break}var i=y[f],c=o(i,f);_=Te(R,A,C,null,i,c,f,l,a,n),A.items.set(c,_),C=_}s>0&&V(ae())}M||Xe(y,A,p,l,a,o,n),d!==null&&(s===0?u?pe(u):u=ue(()=>d(p)):u!==null&&ge(u,()=>{u=null})),N&&Y(!0),te(r)}),M&&(p=R)}function Xe(t,a,n,o,l,d,p){var Z,$,z,j;var A=(l&Fe)!==0,I=(l&(Q|J))!==0,T=t.length,u=a.items,E=a.first,r=E,y,s=null,N,S=[],C=[],_,f,i,c;if(A)for(c=0;c<T;c+=1)_=t[c],f=d(_,c),i=u.get(f),i!==void 0&&((Z=i.a)==null||Z.measure(),(N??(N=new Set)).add(i));for(c=0;c<T;c+=1){if(_=t[c],f=d(_,c),i=u.get(f),i===void 0){var ve=r?r.e.nodes_start:n;s=Te(ve,a,s,s===null?a.first:s.next,_,f,c,o,l,p),u.set(f,s),S=[],C=[],r=s.next;continue}if(I&&Je(i,_,c,l),(i.e.f&X)!==0&&(pe(i.e),A&&(($=i.a)==null||$.unfix(),(N??(N=new Set)).delete(i))),i!==r){if(y!==void 0&&y.has(i)){if(S.length<C.length){var F=C[0],h;s=F.prev;var W=S[0],G=S[S.length-1];for(h=0;h<S.length;h+=1)oe(S[h],F,n);for(h=0;h<C.length;h+=1)y.delete(C[h]);B(a,W.prev,G.next),B(a,s,W),B(a,G,F),r=F,s=G,c-=1,S=[],C=[]}else y.delete(i),oe(i,r,n),B(a,i.prev,i.next),B(a,i,s===null?a.first:s.next),B(a,s,i),s=i;continue}for(S=[],C=[];r!==null&&r.k!==f;)(r.e.f&X)===0&&(y??(y=new Set)).add(r),C.push(r),r=r.next;if(r===null)continue;i=r}S.push(i),s=i,r=i.next}if(r!==null||y!==void 0){for(var D=y===void 0?[]:Ae(y);r!==null;)(r.e.f&X)===0&&D.push(r),r=r.next;var K=D.length;if(K>0){var xe=(l&fe)!==0&&T===0?n:null;if(A){for(c=0;c<K;c+=1)(z=D[c].a)==null||z.measure();for(c=0;c<K;c+=1)(j=D[c].a)==null||j.fix()}Ye(a,D,xe,u)}}A&&be(()=>{var ee;if(N!==void 0)for(i of N)(ee=i.a)==null||ee.apply()}),ne.first=a.first&&a.first.e,ne.last=s&&s.e}function Je(t,a,n,o){(o&Q)!==0&&se(t.v,a),(o&J)!==0?se(t.i,n):t.i=n}function Te(t,a,n,o,l,d,p,A,I,T){var u=(I&Q)!==0,E=(I&ke)===0,r=u?E?Be(l,!1,!1):ie(l):l,y=(I&J)===0?p:ie(p),s={i:y,v:r,k:d,a:null,e:null,prev:n,next:o};try{return s.e=ue(()=>A(t,r,y,T),M),s.e.prev=n&&n.e,s.e.next=o&&o.e,n===null?a.first=s:(n.next=s,n.e.next=s.e),o!==null&&(o.prev=s,o.e.prev=s.e),s}finally{}}function oe(t,a,n){for(var o=t.next?t.next.e.nodes_start:n,l=a?a.e.nodes_start:n,d=t.e.nodes_start;d!==o;){var p=Le(d);l.before(d),d=p}}function B(t,a,n){a===null?t.first=n:(a.next=n,a.e.next=n&&n.e),n!==null&&(n.prev=a,n.e.prev=a&&a.e)}const Qe=Symbol("is custom element"),We=Symbol("is html");function it(t){if(M){var a=!1,n=()=>{if(!a){if(a=!0,t.hasAttribute("value")){var o=t.value;le(t,"value",null),t.value=o}if(t.hasAttribute("checked")){var l=t.checked;le(t,"checked",null),t.checked=l}}};t.__on_r=n,we(n),Ve()}}function rt(t,a){var n=Se(t);n.value===(n.value=a??void 0)||t.value===a&&(a!==0||t.nodeName!=="PROGRESS")||(t.value=a??"")}function ot(t,a){a?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function le(t,a,n,o){var l=Se(t);M&&(l[a]=t.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&t.nodeName==="LINK")||l[a]!==(l[a]=n)&&(a==="loading"&&(t[He]=n),n==null?t.removeAttribute(a):typeof n!="string"&&Ze(t).includes(a)?t[a]=n:t.setAttribute(a,n))}function Se(t){return t.__attributes??(t.__attributes={[Qe]:t.nodeName.includes("-"),[We]:t.namespaceURI===qe})}var ce=new Map;function Ze(t){var a=ce.get(t.nodeName);if(a)return a;ce.set(t.nodeName,a=[]);for(var n,o=t,l=Element.prototype;l!==o;){n=Ke(o);for(var d in n)n[d].set&&a.push(d);o=Ge(o)}return a}var e=(t=>(t[t.INPUT=0]="INPUT",t[t.STATIC=1]="STATIC",t[t.SUM=2]="SUM",t[t.FORMULA=3]="FORMULA",t))(e||{});const P={id:1,title:"Salary costs"},g={id:2,title:"Payroll overhead (LKP)"},k={id:3,title:"other compensations (LKP not applied)"},L={id:4,title:"Direct salary costs"},w={id:5,title:"Running costs"},H={id:6,title:"Depreciation"},m={id:7,title:"Premises"},$e={id:8,title:"Direct costs"},O={id:9,title:"Indirect cost"},b={id:10,title:"Sum"},v={id:1,title:"Full costs estimated"},x={id:2,title:"Co-funding required – deducted"},U={id:3,title:"Requested funding"},q={id:4,title:"Conditions"},ze={id:1,title:"A"},de={id:2,title:"B"},je={id:3,title:"C"},ye={id:4,title:"D"},et={id:5,title:"E"},tt={id:6,title:"F"},lt={test1:{title:"POC Test Form 1",rows:[{title:"1",transactionType:P},{title:"2",transactionType:g},{title:"3",transactionType:k},{title:"4",transactionType:L}],columns:[{title:"A",transactionSource:ze},{title:"B",transactionSource:de},{title:"C",transactionSource:je},{title:"D",transactionSource:ye},{title:"E",transactionSource:et},{title:"F",transactionSource:tt}],cells:[{x:0,y:0,alias:"A1",type:e.INPUT},{x:1,y:0,alias:"B1",type:e.INPUT},{x:2,y:0,alias:"C1",type:e.INPUT},{x:3,y:0,alias:"D1",type:e.INPUT},{x:4,y:0,alias:"E1",type:e.SUM,legend:"Column sum",dependencies:["A1","B1","C1","D1"]},{x:5,y:0,alias:"F1",type:e.FORMULA,legend:"AVG(A1,B1,C1,D1)",dependencies:["A1","B1","C1","D1"],formula:"SUM({A1},{B1},{C1},{D1})"},{x:0,y:1,alias:"A2",type:e.INPUT},{x:1,y:1,alias:"B2",type:e.STATIC,legend:"Static cell"},{x:2,y:1,alias:"C2",type:e.INPUT},{x:3,y:1,alias:"D2",type:e.INPUT},{x:4,y:1,alias:"E2",type:e.SUM,legend:"Column sum",dependencies:["A2","B2","C2","D2"]},{x:0,y:2,alias:"A3",type:e.SUM,legend:"Row sum",dependencies:["A1","A2"]},{x:1,y:2,alias:"B3",type:e.SUM,legend:"Row sum",dependencies:["B1","B2"]},{x:2,y:2,alias:"C3",type:e.SUM,legend:"Row sum",dependencies:["C1","C2"]},{x:3,y:2,alias:"D3",type:e.SUM,legend:"Row sum",dependencies:["D1","D2"]},{x:4,y:2,alias:"E3",type:e.SUM,legend:"Total sum",dependencies:["E1","E2"]},{x:0,y:3,alias:"A4",type:e.FORMULA,legend:"AVG(A1,A2)",dependencies:["A1","A2"],formula:"AVG({A1},{A2})"},{x:1,y:3,alias:"B4",type:e.FORMULA,legend:"SUM(A1,C1,D2)",dependencies:["A1","C1","D2"],formula:"SUM({A1},{C1},{D2})"}],transactions:[{type:g,src:de,value:"666"},{type:g,src:ye,value:"222"}]},31371:{title:"Test Form 31371",rows:[{transactionType:P},{transactionType:g},{transactionType:k},{transactionType:L},{transactionType:w},{transactionType:H},{transactionType:m},{transactionType:$e},{transactionType:O},{transactionType:b}],columns:[{transactionSource:v},{transactionSource:x},{transactionSource:U},{transactionSource:q}],cells:[{x:0,y:0,alias:"A1",type:e.INPUT,transactionType:P,transactionSource:v},{x:1,y:0,alias:"B1",type:e.INPUT,transactionType:P,transactionSource:x},{x:2,y:0,alias:"C1",type:e.SUM,transactionType:P,transactionSource:U,dependencies:["A1","B1"]},{x:0,y:1,alias:"A2",type:e.INPUT,transactionType:g,transactionSource:v},{x:1,y:1,alias:"B2",type:e.FORMULA,transactionType:g,transactionSource:x,dependencies:["A1","A2","B1"],formula:"({A2} / ( {A1} + {B1} ) > 0.5) ? Math.round(( {A1} + {B1} ) * 0.5 - {A2}) : 0"},{x:2,y:1,alias:"C2",type:e.SUM,transactionType:g,transactionSource:U,dependencies:["A2","B2"]},{x:3,y:1,alias:"D2",type:e.FORMULA,transactionType:g,transactionSource:q,dependencies:["C1","C2"],formula:"Math.round({C2}/{C1}*100)"},{x:0,y:2,alias:"A3",type:e.INPUT,transactionType:k,transactionSource:v},{x:1,y:2,alias:"B3",type:e.INPUT,transactionType:k,transactionSource:x},{x:2,y:2,alias:"C3",type:e.SUM,transactionType:k,transactionSource:U,dependencies:["A3","B3"]},{x:0,y:3,alias:"A4",type:e.SUM,transactionType:L,transactionSource:v,dependencies:["A1","A2","A3"]},{x:1,y:3,alias:"B4",type:e.SUM,transactionType:L,transactionSource:x,dependencies:["B1","B2","B3"]},{x:2,y:3,alias:"C4",type:e.SUM,transactionType:L,transactionSource:U,dependencies:["A4","B4"]},{x:0,y:4,alias:"A5",type:e.INPUT,transactionType:w,transactionSource:v},{x:1,y:4,alias:"B5",type:e.INPUT,transactionType:w,transactionSource:x},{x:2,y:4,alias:"C5",type:e.SUM,transactionType:w,transactionSource:U,dependencies:["A5","B5"]},{x:0,y:5,alias:"A6",type:e.INPUT,transactionType:H,transactionSource:v},{x:1,y:5,alias:"B6",type:e.INPUT,transactionType:H,transactionSource:x},{x:2,y:5,alias:"C6",type:e.SUM,transactionType:H,transactionSource:U,dependencies:["A6","B6"]},{x:0,y:6,alias:"A7",type:e.INPUT,transactionType:m,transactionSource:v},{x:1,y:6,alias:"B7",type:e.INPUT,transactionType:m,transactionSource:x},{x:2,y:6,alias:"C7",type:e.SUM,transactionType:m,transactionSource:U,dependencies:["A7","B7"]},{x:0,y:7,alias:"A8",type:e.SUM,transactionType:m,transactionSource:v,dependencies:["A4","A5","A6","A7"]},{x:1,y:7,alias:"B8",type:e.SUM,transactionType:m,transactionSource:x,dependencies:["B4","B5","B6","B7"]},{x:2,y:7,alias:"C8",type:e.SUM,transactionType:m,transactionSource:U,dependencies:["C4","C5","C6","C7"]},{x:0,y:8,alias:"A9",type:e.INPUT,transactionType:O,transactionSource:v},{x:1,y:8,alias:"B9",type:e.INPUT,transactionType:O,transactionSource:x},{x:2,y:8,alias:"C9",type:e.SUM,transactionType:O,transactionSource:U,dependencies:["A9","B9"]},{x:3,y:8,alias:"D9",type:e.FORMULA,transactionType:O,transactionSource:q,dependencies:["C1","C2","C3","C4","C5","C6","C7","C8","C9"],formula:"Math.round(({C7}+{C9})/({C1}+{C2}+{C3}+{C5}+{C6}+{C7}+{C9})*100)"},{x:0,y:9,alias:"A10",type:e.SUM,transactionType:b,transactionSource:v,dependencies:["A8","A9"]},{x:1,y:9,alias:"B10",type:e.SUM,transactionType:b,transactionSource:x,dependencies:["B8","B9"]},{x:2,y:9,alias:"C10",type:e.SUM,transactionType:b,transactionSource:U,dependencies:["C8","C9"]},{x:3,y:9,alias:"D10",type:e.SUM,transactionType:b,transactionSource:q,dependencies:["D2","D9"]}],transactions:[{type:P,src:v,value:"111"},{type:P,src:x,value:"222"},{type:P,src:U,value:"333"}]},31375:{title:"Test Form 31375",rows:[{title:"Ingående balansposter"},{title:"INCOME"},{title:"Intäkter av anslag"},{title:"Intäkter av avgifter och andra ersättningar"},{title:"Intäkter av externa användaravgifter"},{title:"Bidrag, exkl. bidrag från KTH"},{title:"Bidrag SFO, transfererade från KTH"},{title:"Periodiserade bidrag (överskott/oförbrukat=kreditbelopp)"},{title:"Finansiella intäkter"},{title:"SUM INCOME"},{title:"Information"},{title:"COST"},{title:"Personalkostnader"},{title:"Lokalkostnader"},{title:"Övriga driftskostnader"},{title:"Indirekta kostnader"},{title:"Finansiella kostnader"},{title:"Avskrivningar och nedskrivningar"},{title:"SUM COST"},{title:"BALANCE"},{title:"Framtida avskrivningskostnader"},{title:"KVAR ATT DISPONERA"},{title:"Information"},{title:"TRANSFERERINGAR"},{title:"Medel som erhållits fr statens budget för finansiering av bidrag"},{title:"Övriga medel som erhållits för finansieringer av bidrag"},{title:"Lämnade bidrag"},{title:"SUM"}],columns:[{title:"Unit"}],cells:[{x:0,y:0,alias:"A1",type:e.INPUT},{x:0,y:1,alias:"A2",type:e.STATIC,value:""},{x:0,y:2,alias:"A3",type:e.INPUT},{x:0,y:3,alias:"A4",type:e.INPUT},{x:0,y:4,alias:"A5",type:e.INPUT},{x:0,y:5,alias:"A6",type:e.INPUT},{x:0,y:6,alias:"A7",type:e.INPUT},{x:0,y:7,alias:"A8",type:e.INPUT},{x:0,y:8,alias:"A9",type:e.INPUT},{x:0,y:9,alias:"A10",type:e.SUM,dependencies:["A3","A4","A5","A6","A7","A8","A9"]},{x:0,y:10,alias:"A11",type:e.STATIC,value:"Information..."},{x:0,y:11,alias:"A12",type:e.STATIC,value:""},{x:0,y:12,alias:"A13",type:e.INPUT},{x:0,y:13,alias:"A14",type:e.INPUT},{x:0,y:14,alias:"A15",type:e.INPUT},{x:0,y:15,alias:"A16",type:e.INPUT},{x:0,y:16,alias:"A17",type:e.INPUT},{x:0,y:17,alias:"A18",type:e.INPUT},{x:0,y:18,alias:"A19",type:e.SUM,dependencies:["A13","A14","A15","A16","A17","A18"]},{x:0,y:19,alias:"A20",type:e.FORMULA,dependencies:["A10","A19"],formula:"{A10}-{A19}"},{x:0,y:20,alias:"A21",type:e.INPUT},{x:0,y:21,alias:"A22",type:e.FORMULA,dependencies:["A1","A8","A20","A21"],formula:"{A1} - {A8} + {A20} - {A21} "},{x:0,y:22,alias:"A23",type:e.STATIC,value:"Information..."},{x:0,y:23,alias:"A24",type:e.STATIC,value:""},{x:0,y:24,alias:"A25",type:e.INPUT},{x:0,y:25,alias:"A26",type:e.INPUT},{x:0,y:26,alias:"A27",type:e.INPUT},{x:0,y:27,alias:"A28",type:e.SUM,dependencies:["A25","A26","A27"]}],transactions:[]}};export{e as F,x as a,U as b,q as c,P as d,st as e,lt as f,g,k as h,nt as i,L as j,w as k,H as l,m,$e as n,O as o,b as p,ot as q,it as r,le as s,v as t,rt as u,Ve as v};
